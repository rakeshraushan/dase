[?1049h[?1h=[1;42r[34l[34h[?25h[23m[24m[m[H[J[?25l[42;1H"sigrid_report.php" "sigrid_report.php" 72L, 1697C[1;1H[1m[33mif[m [1m[31m([m[1m[33m![m[1m[36mfile_exists[m[1m[31m([m[1m[33m$[m[1m[36mIMAGE_REPOS[m[1m[31m))[m [1m[31m{[m
    [1m[33mdie[m [1m[31m([m"[1m[35mcannot find [m[1m[33m$[m[1m[36mIMAGE_REPOS[m"[1m[31m)[m;
[1m[31m}[m

[1m[36m/******* CREATE HASH OF IMAGES IN DAR ***********************************/[m
[1m[33m$[m[1m[36mi[m [1m[33m=[m [1m[35m0[m;
[1m[33m$[m[1m[36mdir[m [1m[33m=[m [1m[34mnew[m [1m[36mRecursiveIteratorIterator[m[1m[31m([m[1m[34mnew[m [1m[36mRecursiveDirectoryIterator[m[1m[31m([m[1m[33m$[m[1m[36mIMAGE_REPOS[m[1m[31m))[m;
[1m[33m$[m[1m[36mimages[m [1m[33m=[m [1m[32marray[m[1m[31m()[m;
[1m[33mforeach[m [1m[31m([m[1m[33m$[m[1m[36mdir[m [1m[33mas[m [1m[33m$[m[1m[36mfile[m[1m[31m)[m [1m[31m{[m
    [1m[33mif[m [1m[31m([m[1m[33m![m[1m[36mstrpos[m[1m[31m([m[1m[33m$[m[1m[36mfile[m,'[1m[35m/.[m'[1m[31m))[m [1m[31m{[m[11;9H[1m[33mif[m [1m[31m([m[1m[36mstrpos[m[1m[31m([m[1m[33m$[m[1m[36mfile[m,'[1m[35m.jpg[m'[1m[31m)[m [1m[33m||[m [1m[36mstrpos[m[1m[31m([m[1m[33m$[m[1m[36mfile[m,'[1m[35m.tif[m'[1m[31m))[m [1m[31m{[m[12;13H[1m[33m$[m[1m[36mi[m[1m[33m++[m;[13;13H[1m[33m$[m[1m[36mimages[m[1m[31m[[m[1m[36mbasename[m[1m[31m([m[1m[33m$[m[1m[36mfile[m[1m[31m)][m[1m[33m=[m [1m[33m$[m[1m[36mfile[m[1m[32m->[mgetPathname[1m[31m()[m;[14;13H[1m[33mif[m [1m[31m([m[1m[35m0[m [1m[33m==[m [1m[33m$[m[1m[36mi[m[1m[33m%[m[1m[35m1000[m[1m[31m)[m [1m[31m{[m[15;17H[1m[36m//print "hashed $i files\n";[m[16;13H[1m[31m}[m[17;13H[1m[36m//print $file->getFilename() . "\n";[m[18;9H[1m[31m}
[m    [1m[31m}
}[m

[1m[36m/******* CREATE HASH OF IMAGES IN DAR ***********************************/[m
[1m[33m$[m[1m[36mIMAGE_REPOS[m [1m[33m=[m "[1m[35m/mnt/dar/blanton/ART[m";
[1m[33m$[m[1m[36mdir[m [1m[33m=[m [1m[34mnew[m [1m[36mRecursiveIteratorIterator[m[1m[31m([m[1m[34mnew[m [1m[36mRecursiveDirectoryIterator[m[1m[31m([m[1m[33m$[m[1m[36mIMAGE_REPOS[m[1m[31m))[m;
[1m[33mforeach[m [1m[31m([m[1m[33m$[m[1m[36mdir[m [1m[33mas[m [1m[33m$[m[1m[36mfile[m[1m[31m)[m [1m[31m{[m
    [1m[33mif[m [1m[31m([m[1m[33m![m[1m[36mstrpos[m[1m[31m([m[1m[33m$[m[1m[36mfile[m,'[1m[35m/.[m'[1m[31m))[m [1m[31m{[m[27;9H[1m[33mif[m [1m[31m([m[1m[36mstrpos[m[1m[31m([m[1m[33m$[m[1m[36mfile[m,'[1m[35m.jpg[m'[1m[31m)[m [1m[33m||[m [1m[36mstrpos[m[1m[31m([m[1m[33m$[m[1m[36mfile[m,'[1m[35m.tif[m'[1m[31m))[m [1m[31m{[m[28;13H[1m[33m$[m[1m[36mi[m[1m[33m++[m;[29;13H[1m[33m$[m[1m[36mimages[m[1m[31m[[m[1m[36mbasename[m[1m[31m([m[1m[33m$[m[1m[36mfile[m[1m[31m)][m[1m[33m=[m [1m[33m$[m[1m[36mfile[m[1m[32m->[mgetPathname[1m[31m()[m;[30;13H[1m[33mif[m [1m[31m([m[1m[35m0[m [1m[33m==[m [1m[33m$[m[1m[36mi[m[1m[33m%[m[1m[35m1000[m[1m[31m)[m [1m[31m{[m[31;13H[1m[36m//  print "hashed $i files\n";[m[32;13H[1m[31m}[m[33;13H[1m[36m//print $file->getFilename() . "\n";[m[34;9H[1m[31m}
[m    [1m[31m}
}[m


[1m[33m$[m[1m[36mpdo[m [1m[33m=[m [1m[34mnew[m [1m[36mPDO[m[1m[31m([m"[1m[35mdblib:host=[m[1m[33m$[m[1m[36mhost[m[1m[35m;dbname=[m[1m[33m$[m[1m[36mname[m", [1m[33m$[m[1m[36muser[m, [1m[33m$[m[1m[36mpass[m[1m[31m)[m;

[1m[33m$[m[1m[36msql[m [1m[33m=[m "[42;105H51,1          32%[41;1H[34h[?25h[?25l
Type  :quit<Enter>  to exit Vim[42;105H[K[42;105H51,1          32%[41;1H[34h[?25h[?25l[1;41r[1;1H[21M[1;42r[21;1H[1m[35m    SELECT  
    acc_digital_num, 
    acc_num_PK
    FROM tblAccession 
    WHERE acc_digital_num != ''
    [m";

[1m[33m$[m[1m[36mst[m [1m[33m=[m [1m[33m$[m[1m[36mpdo[m[1m[32m->[mprepare[1m[31m([m[1m[33m$[m[1m[36msql[m[1m[31m)[m;
[1m[33m$[m[1m[36mst[m[1m[32m->[msetFetchMode[1m[31m([m[1m[36mPDO[m[1m[33m::[mFETCH_ASSOC[1m[31m)[m;
[1m[33m$[m[1m[36mst[m[1m[32m->[mexecute[1m[31m()[m;
[1m[33mwhile[m [1m[31m([m[1m[33m$[m[1m[36mrow[m [1m[33m=[m [1m[33m$[m[1m[36mst[m[1m[32m->[mfetch[1m[31m())[m [1m[31m{[m
    [1m[33m$[m[1m[36mdf[m [1m[33m=[m [1m[33m$[m[1m[36mrow[m[1m[31m[[m'[1m[35macc_digital_num[m'[1m[31m][m;
    [1m[33m$[m[1m[36mac[m [1m[33m=[m [1m[33m$[m[1m[36mrow[m[1m[31m[[m'[1m[35macc_num_PK[m'[1m[31m][m;
    [1m[36m//we'll only perform operations on items for which we have a file[m
    [1m[33mif[m [1m[31m([m[1m[33misset[m[1m[31m([m[1m[33m$[m[1m[36mimages[m[1m[31m[[m[1m[33m$[m[1m[36mdf[m[1m[31m]))[m [1m[31m{[m[36;9H[1m[36m//ok[m
    [1m[31m}[m [1m[33melse[m [1m[31m{[m[38;9H[1m[34mprint[m "[1m[35mno image for [m[1m[33m$[m[1m[36mdf[m[1m[35m ([m[1m[33m$[m[1m[36mac[m[1m[35m)[m[1m[31m\n[m";
    [1m[31m}
}[m[42;1H[K[42;105H72,0-1        Bot[41;1H[34h[?25h